<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg"
     viewBox="0 0 800 200"
     width="800"
     height="200"
     role="img"
     aria-label="GitHub Snake: cinematic animation — glowing trail, auto-rotate head, eat flashes, light/dark mode">
  <desc>
а вот мой 
    Неприлично пиздатая змейка: след за головой, пульсирующие яблоки, 
    вспышки при поедании, плавная камера. Поддержка prefers-color-scheme.
    Безопасно для GitHub README.
  </desc>

  <defs>
    <style>
      :root {
        --bg: #0d1117;
        --grid: #161b22;
        --grid-line: #30363d;
        --snake: #2ea043;
        --snake-glow: rgba(46, 160, 67, 0.5);
        --head: #39d353;
        --tail: #238636;
        --apple: #ff3b3b;
        --apple-glow: rgba(255, 59, 59, 0.6);
        --flash: #ffffff;
        --hud: #c9d1d9;
        --obstacle: #484f58;
      }

      @media (prefers-color-scheme: light) {
        :root {
          --bg: #ffffff;
          --grid: #f6f8fa;
          --grid-line: #e6edf3;
          --snake: #2ea043;
          --snake-glow: rgba(46, 160, 67, 0.3);
          --head: #238636;
          --tail: #2ea043;
          --apple: #d32030;
          --apple-glow: rgba(211, 32, 48, 0.4);
          --flash: #000000;
          --hud: #1f2428;
          --obstacle: #8b949e;
        }
      }

      .board {
        fill: var(--bg);
      }

      .grid-cell {
        fill: var(--grid);
        rx: 2;
        ry: 2;
      }

      .trail-glow {
        fill: none;
        stroke: var(--tail);
        stroke-width: 14;
        stroke-linecap: round;
        opacity: 0.3;
      }

      .trail-core {
        fill: none;
        stroke: var(--snake);
        stroke-width: 10;
        stroke-linecap: round;
        stroke-linejoin: round;
        filter: drop-shadow(0 0 8px var(--snake-glow));
      }

      .head {
        fill: var(--head);
      }

      .apple {
        fill: var(--apple);
        filter: drop-shadow(0 0 6px var(--apple-glow));
        transform-origin: center;
        animation: pulse 1.8s ease-in-out infinite;
      }

      .obstacle {
        fill: var(--obstacle);
        rx: 3;
        ry: 3;
      }

      .flash {
        fill: var(--flash);
        opacity: 0;
      }

      .hud {
        fill: var(--hud);
        font: bold 14px monospace;
      }

      @keyframes cam {
        0%   { transform: translate(0, 0) scale(1); }
        25%  { transform: translate(1px, -0.5px) scale(1.01); }
        50%  { transform: translate(-0.8px, 0.8px) scale(1.0); }
        75%  { transform: translate(0.6px, 0.7px) scale(1.012); }
        100% { transform: translate(0, 0) scale(1); }
      }

      @keyframes pulse {
        0%, 100% { transform: scale(1); }
        50% { transform: scale(1.12); }
      }
    </style>

    <pattern id="grid" width="20" height="20" patternUnits="userSpaceOnUse">
      <rect x="1" y="1" width="18" height="18" class="grid-cell"/>
    </pattern>
  </defs>

  <!-- Сцена с плавной камерой -->
  <g style="animation: cam 8s ease-in-out infinite">

    <!-- Фон -->
    <rect x="0" y="0" width="800" height="200" class="board"/>

    <!-- Сетка -->
    <rect x="20" y="20" width="760" height="160" fill="url(#grid)" rx="6" ry="6"/>
    <rect x="20.5" y="20.5" width="759" height="159" fill="none" stroke="var(--grid-line)" stroke-width="1" rx="6" ry="6"/>

    <!-- Препятствия -->
    <rect x="200" y="40" width="40" height="20" class="obstacle"/>
    <rect x="360" y="140" width="60" height="20" class="obstacle"/>
    <rect x="520" y="60" width="20" height="60" class="obstacle"/>

    <!-- Яблоки = Коммиты -->
    <g transform="translate(100, 100)" class="apple">
      <circle r="7"/>
      <line x1="0" y1="-8" x2="0" y2="-14" stroke="#66bb6a" stroke-width="2" rx="1"/>
    </g>

    <g transform="translate(300, 60)" class="apple">
      <circle r="7"/>
      <line x1="0" y1="-8" x2="0" y2="-14" stroke="#66bb6a" stroke-width="2" rx="1"/>
    </g>

    <g transform="translate(600, 120)" class="apple">
      <circle r="7"/>
      <line x1="0" y1="-8" x2="0" y2="-14" stroke="#66bb6a" stroke-width="2" rx="1"/>
    </g>

    <!-- Вспышки при "поедании" -->
    <circle cx="100" cy="100" r="20" class="flash">
      <animate attributeName="opacity" values="0;0.9;0" begin="1.5s" dur="0.4s"/>
      <animate attributeName="r" values="20;35;20" begin="1.5s" dur="0.4s"/>
    </circle>

    <circle cx="300" cy="60" r="20" class="flash">
      <animate attributeName="opacity" values="0;0.9;0" begin="3.8s" dur="0.4s"/>
      <animate attributeName="r" values="20;35;20" begin="3.8s" dur="0.4s"/>
    </circle>

    <circle cx="600" cy="120" r="20" class="flash">
      <animate attributeName="opacity" values="0;0.9;0" begin="6.2s" dur="0.4s"/>
      <animate attributeName="r" values="20;35;20" begin="6.2s" dur="0.4s"/>
    </circle>

    <!-- Маршрут змейки -->
    <path id="route" d="
      M 40 100
      L 80 100
      L 80 60
      L 240 60
      L 240 100
      L 400 100
      L 400 140
      L 600 140
      L 600 100
      L 760 100
    " fill="none" stroke="none"/>

    <!-- Хвост (свечение) -->
    <use href="#route" class="trail-glow">
      <animate attributeName="stroke-dasharray" values="100 999; 160 999; 120 999" keyTimes="0;0.4;1" dur="7s" repeatCount="indefinite"/>
      <animate attributeName="stroke-dashoffset" values="999; 400; 0" keyTimes="0;0.6;1" dur="7s" repeatCount="indefinite"/>
    </use>

    <!-- Хвост (основа) -->
    <use href="#route" class="trail-core">
      <animate attributeName="stroke-dasharray" values="90 999; 150 999; 110 999" keyTimes="0;0.4;1" dur="7s" repeatCount="indefinite"/>
      <animate attributeName="stroke-dashoffset" values="999; 400; 0" keyTimes="0;0.6;1" dur="7s" repeatCount="indefinite"/>
    </use>

    <!-- Голова змейки -->
    <g>
      <rect x="-7" y="-7" width="14" height="14" rx="3.5" class="head"/>
      <circle cx="3" cy="-2" r="1.5" fill="#0d1117"/>
      <path d="M -8 0 L -14 0" stroke="#f87171" stroke-width="2" stroke-linecap="round">
        <animate attributeName="stroke-dasharray" values="0 10; 6 10; 0 10" dur="0.9s" repeatCount="indefinite"/>
      </path>
      <animateMotion dur="7s" repeatCount="indefinite" rotate="auto">
        <mpath href="#route"/>
      </animateMotion>
    </g>

    <!-- HUD -->
    <text x="40" y="30" class="hud">COMMIT STREAK: 7</text>
    <text x="600" y="30" class="hud">NEXT: 8</text>

  </g>
</svg>

